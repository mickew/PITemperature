$(function(){var n=function(){function n(n,t,e){this.Sensor=n,this.Name=t,this.Temp=ko.observable(e)}return n}(),t=function(){function t(){var n=this;this.connectionState=ko.observable(4),this.hub=$.connection.tempHub,$.connection.hub.stateChanged(function(t){return n.connectionStateChanged(t)}),$.connection.hub.disconnected(function(){return n.disconnected()}),this.hub.client.broadcastTempSensors=this.broadcastTempSensors,this.hub.client.broadcastTemperature=this.broadcastTemperature,this.sensors=ko.observableArray([])}return t.prototype.init=function(){this.hub.server.getTempSensors()},t.prototype.connectionStateChanged=function(n){e.connectionState(n.newState)},t.prototype.disconnected=function(){setTimeout(function(){$.connection.hub.start(function(){e.init()})},5e3)},t.prototype.broadcastTemperature=function(n){var t=ko.utils.arrayFirst(e.sensors(),function(t){return t.Sensor===n.Sensor});t.Temp(n.Temp)},t.prototype.broadcastTempSensors=function(t){var o=$.map(t,function(t){return new n(t.Sensor,t.Name,t.Temp)});e.sensors(o)},t}(),e=new t;ko.applyBindings(e),$("#connectionStateContanier").removeClass("hidden"),$.connection.hub.start(function(){e.init()})});