@{
    ViewData["Title"] = "Administrate sensors";
}
<div class="row">
    <div class="col-sm-6 col-sm-offset-3">
        <div class="panel panel-default">
            <div class="panel-heading"><span class="fa fa-tachometer"></span> <span class="panel-title" data-bind="text: itemCount()"></span><button type="button" class="pull-right" data-bind="click: $root.getRefresh"><span class="fa fa-refresh"></span></button></div>
            <ul class="list-group" data-bind="foreach: items">
                <li class="list-group-item">
                    <div class="col-sm-3"><span data-bind="text: Sensor"></span></div> <span data-bind="text: Name"></span>
                    <button type="button" class="close" aria-hidden="true" data-bind="click: $root.editItem" data-toggle="modal" data-target="#editItem"><span class="fa fa-edit"></span></button>
                </li>
            </ul>
        </div>
    </div>
</div>
<div id="editItem" class="modal fade" role="dialog">
    <div class="modal-dialog modal-sm">
        <div class="modal-content" data-bind="with: editItem">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" data-bind="click: function (data) { $root.getItem(data); }"><span class="glyphicon glyphicon-remove"></span></button>
                <h4 class="modal-title">Edit <span data-bind="text: Sensor"></span></h4>
            </div>
            <div class="modal-body">
                @*<div class="form-group">
                    <input type="text" class="form-control" placeholder="Sensor Id" data-bind='value: Sensor, valueUpdate: "afterkeydown"' />
                </div>*@
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" class="form-control" placeholder="Sensor Name" data-bind='value: Name, valueUpdate: "afterkeydown"' />
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" data-bind="click: function (data) { $root.getItem(data); }">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-bind="click: function (data) { $root.saveItem(data); }">Save</button>
                <button type="button" class="btn btn-warning" data-dismiss="modal" data-bind="click: function (data) { $root.deleteItem(data); }">Delete</button>
            </div>
        </div>
    </div>
</div>
@section Scripts {
<environment names="Development">
    <script src="~/js/sensor.app.js"></script>
</environment>
<environment names="Staging,Production">
    <script src="~/js/sensor.app.min.js"></script>
</environment>
}